import{l as r,z as h,P}from"./app-pebjqkCD.js";function b(){const c=r([]),l=r([]),u=r({name:""}),a=h(),n=r({}),t=r(!1),o=P("$swal");return{permissions:c,allPermission:l,permission:u,getAllPermissions:async()=>{axios.get("/api/permissions/").then(e=>{l.value=e.data.data})},getPermissions:async(e=1,s="",i="",m="",p="created_at",d="desc")=>{axios.get("/api/permissions?page="+e+"&search_id="+s+"&search_title="+i+"&search_global="+m+"&order_column="+p+"&order_direction="+d).then(f=>{c.value=f.data})},getPermission:async e=>{axios.get("/api/permissions/"+e).then(s=>{u.value=s.data.data})},storePermission:async e=>{t.value||(t.value=!0,n.value={},axios.post("/api/permissions",e).then(s=>{a.push({name:"permissions.index"}),o({icon:"success",title:"Permission saved successfully"})}).catch(s=>{var i;(i=s.response)!=null&&i.data&&(n.value=s.response.data.errors)}).finally(()=>t.value=!1))},updatePermission:async e=>{t.value||(t.value=!0,n.value={},axios.put("/api/permissions/"+e.id,e).then(s=>{a.push({name:"permissions.index"}),o({icon:"success",title:"Permission updated successfully"})}).catch(s=>{var i;(i=s.response)!=null&&i.data&&(n.value=s.response.data.errors)}).finally(()=>t.value=!1))},deletePermission:async e=>{o({title:"Are you sure?",text:"You won't be able to revert this action!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",confirmButtonColor:"#ef4444",timer:2e4,timerProgressBar:!0,reverseButtons:!0}).then(s=>{s.isConfirmed&&axios.delete("/api/permissions/"+e).then(i=>{a.push({name:"permissions.index"}),o({icon:"success",title:"Permission deleted successfully"})}).catch(i=>{o({icon:"error",title:"Something went wrong"})})})},validationErrors:n,isLoading:t}}export{b as u};
