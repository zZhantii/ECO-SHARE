import{l as i,Q as u,P as d}from"./app-pebjqkCD.js";import{c as f,a as p,s as v}from"./index.esm-C_1aiQ0x.js";import{e as m}from"./yup-locales.esm-DRsOkZ6u.js";function A(){const r=i({id:0,tag_name:""}),c=i([]),g=f().shape({tag_name:p().required("El nombre de la etiqueta es requerido")});v(m);const n=i({}),a=i(!1),l=d("$swal");return{tag:r,tagList:c,tagSchema:g,validationErrors:n,isLoading:a,getTags:async()=>{a.value||(a.value=!0,n.value={},u.get("/api/tag").then(t=>{for(const e of t.data.data)c.value.push({id:e.id,tag_name:e.tag_name})}).catch(t=>{var e;((e=t.response)==null?void 0:e.status)===500&&l({icon:"error",title:"Error",text:t.response.data.message})}).finally(()=>a.value=!1))},getTagWithID:async t=>{a.value||(a.value=!0,n.value={},await u.get("/api/tag/"+t).then(e=>{console.log("Respuesta API mostrando etiquetas: ",e.data.data),r.value=e.data.data[0]}).catch(e=>{var s,o;((s=e.response)==null?void 0:s.status)===404?l({icon:"error",title:"Error",text:e.response.data.message}):((o=e.response)==null?void 0:o.status)===500&&l({icon:"error",title:"Error",text:e.response.data.message})}).finally(()=>a.value=!1))},updateTag:async t=>{a.value||(a.value=!0,n.value={},u.put("/api/tag/"+t.value.id,t.value).then(e=>{console.log("Respuesta API actualizando etiqueta: ",e.data.message),l({icon:"success",title:"Tag updated successfully"})}).catch(e=>{var s;((s=e.response)==null?void 0:s.status)===500&&l({icon:"error",title:"Error",text:e.response.data.message})}).finally(()=>a.value=!1))},createTag:async t=>{a.value||(a.value=!0,n.value={},u.post("/api/tag/",t.value).then(e=>{console.log("Respuesta API creando etiqueta: ",e.data.message),l({icon:"success",title:"Tag create successfully"})}).catch(e=>{var s,o;((s=e.response)==null?void 0:s.status)===422?l({icon:"error",title:"Error",text:e.response.data.message}):((o=e.response)==null?void 0:o.status)===500&&l({icon:"error",title:"Error",text:e.response.data.message})}).finally(()=>a.value=!1))},deleteTag:async t=>{a.value||(a.value=!0,n.value={},u.delete("/api/tag/"+t.id,t).then(e=>{console.log("Respuesta API eliminando etiqueta: ",e.data.message),l({icon:"success",title:"Tag deleted successfully"})}).catch(e=>{var s;((s=e.response)==null?void 0:s.status)===500&&l({icon:"error",title:"Error",text:e.response.data.message})}).finally(()=>a.value=!1))}}}export{A as u};
