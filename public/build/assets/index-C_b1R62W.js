import{J as A,A as B,l as D,ac as v,q as F,b as w,h as n,j as e,w as o,v as p,f as s,o as u,e as f,d as h,y as M}from"./app-pebjqkCD.js";import{u as $}from"./trips-BVbkd_tG.js";import"./yup-locales.esm-DRsOkZ6u.js";import"./index.esm-C_1aiQ0x.js";const S={class:"grid"},j={class:"col-12"},z={class:"card"},K={__name:"index",setup(U){A();const{tripsList:c,getTrips:m,deleteTrip:T}=$(),{can:_}=B(),i=D({global:{value:null,matchMode:v.CONTAINS}}),C=()=>{i.value={global:{value:null,matchMode:v.CONTAINS}}};F(()=>{m()});const k=async d=>{await T(d),b()},b=()=>{c.value=[],m()};return(d,t)=>{const I=s("InputIcon"),y=s("InputText"),g=s("IconField"),r=s("Button"),V=s("Toolbar"),a=s("Column"),N=s("router-link"),x=s("DataTable");return u(),w("div",S,[n("div",j,[n("div",z,[t[6]||(t[6]=n("div",{class:"card-header bg-transparent ps-0 pe-0"},[n("h5",{class:"float-start mb-0"},"Viajes")],-1)),e(x,{filters:i.value,"onUpdate:filters":t[4]||(t[4]=l=>i.value=l),value:p(c),paginator:"",rows:5,globalFilterFields:["id","user_id","vehicle_id","start_point","end_point","departure_time","arrival_time","available_seats","price"],stripedRows:"",dataKey:"id",size:"small"},{header:o(()=>[e(V,{"pt:root:class":"toolbar-table"},{start:o(()=>[e(g,null,{default:o(()=>[e(I,{class:"pi pi-search"}),e(y,{modelValue:i.value.global.value,"onUpdate:modelValue":t[0]||(t[0]=l=>i.value.global.value=l),placeholder:"Buscar"},null,8,["modelValue"])]),_:1}),e(r,{type:"button",icon:"pi pi-filter-slash",label:"Clear",class:"ml-1",outlined:"",onClick:t[1]||(t[1]=l=>C())}),e(r,{type:"button",icon:"pi pi-refresh",class:"h-100 ml-1",outlined:"",onClick:t[2]||(t[2]=l=>b())})]),end:o(()=>[e(r,{icon:"pi pi-external-link",label:"Crear Viaje",onClick:t[3]||(t[3]=l=>d.$router.push("trips/create")),class:"float-end"})]),_:1})]),empty:o(()=>t[5]||(t[5]=[M(" No customers found. ")])),default:o(()=>[e(a,{field:"id",header:"ID",sortable:""}),e(a,{field:"user_id",header:"User ID",sortable:""}),e(a,{field:"vehicle_id",header:"Vehicle ID",sortable:""}),e(a,{field:"start_point",header:"Start Point",sortable:""}),e(a,{field:"end_point",header:"End Point",sortable:""}),e(a,{field:"departure_time",header:"Departure Time",sortable:""}),e(a,{field:"arrival_time",header:"Arrival Time",sortable:""}),e(a,{field:"available_seats",header:"Available Seats",sortable:""}),e(a,{field:"price",header:"Price",sortable:""}),e(a,{class:"pe-0 me-0 icon-column-2"},{body:o(l=>[p(_)("user-edit")?(u(),f(N,{key:0,to:{name:"trips.edit",params:{id:l.data.id}}},{default:o(()=>[e(r,{icon:"pi pi-pencil",severity:"info",size:"small",class:"mr-1"})]),_:2},1032,["to"])):h("",!0),p(_)("user-delete")?(u(),f(r,{key:1,icon:"pi pi-trash",severity:"danger",onClick:E=>k(l.data),size:"small"},null,8,["onClick"])):h("",!0)]),_:1})]),_:1},8,["filters","value"])])])])}}};export{K as default};
