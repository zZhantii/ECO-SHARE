import{l as V,K as N,q as P,b as o,h as t,G as x,M as T,t as n,v as l,F as d,i as u,j as v,f as y,y as h,H as U,N as j,o as a}from"./app-pebjqkCD.js";import{D as A}from"./DropZone-D3dxynPT.js";import{u as G}from"./categories-BJ9YamNF.js";import{u as K}from"./posts-DuPzwDq5.js";import{d as L,u as R,a as p,r as Z,m as I}from"./rules-BEBCv-ON.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const J={class:"row my-5"},O={class:"col-md-8"},Q={class:"card border-0 shadow-sm"},W={class:"card-body"},X={class:"mb-3"},Y={class:"text-danger mt-1"},$={class:"text-danger mt-1"},tt={class:"mb-3"},et={class:"text-danger mt-1"},st={class:"text-danger mt-1"},ot={class:"col-md-4"},lt={class:"card border-0 shadow-sm"},at={class:"card-body"},it={class:"mt-3 text-center"},nt=["disabled"],rt={class:""},dt={key:0},ut={key:1},ct={class:"mb-3"},mt={class:"text-danger mt-1"},vt={class:"text-danger mt-1"},ht={class:"mb-3"},pt={class:"text-danger mt-1"},yt={__name:"Create",setup(_t){L("required",Z),L("min",I),V(!0);const M={title:"required|min:5",content:"required|min:50",categories:"required"},{validate:q,errors:c}=R({validationSchema:M}),{value:z}=p("title",null,{initialValue:""}),{value:C}=p("content",null,{initialValue:""}),{value:S}=p("categories",null,{initialValue:"",label:"category"}),{categoryList:H,getCategoryList:B}=G(),{storePost:F,validationErrors:r,isLoading:m}=K(),i=N({title:z,content:C,categories:S,thumbnail:""});V("");function k(){q().then(_=>{_.valid&&F(i)})}return P(()=>{B()}),(_,e)=>{var g,b,w,f;const D=y("Editor"),E=y("MultiSelect");return a(),o("form",{onSubmit:j(k,["prevent"])},[t("div",J,[t("div",O,[t("div",Q,[t("div",W,[t("div",X,[e[4]||(e[4]=t("label",{for:"post-title",class:"form-label"}," Title ",-1)),x(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>i.title=s),id:"post-title",type:"text",class:"form-control"},null,512),[[T,i.title]]),t("div",Y,n(l(c).title),1),t("div",$,[(a(!0),o(d,null,u((g=l(r))==null?void 0:g.title,s=>(a(),o("div",null,n(s),1))),256))])]),t("div",tt,[e[5]||(e[5]=t("label",{for:"post-content",class:"form-label"}," Content ",-1)),v(D,{modelValue:i.content,"onUpdate:modelValue":e[1]||(e[1]=s=>i.content=s),editorStyle:"height: 320px"},null,8,["modelValue"]),t("div",et,n(l(c).content),1),t("div",st,[(a(!0),o(d,null,u((b=l(r))==null?void 0:b.content,s=>(a(),o("div",null,n(s),1))),256))])])])])]),t("div",ot,[t("div",lt,[t("div",at,[e[7]||(e[7]=t("h6",null,[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-square",viewBox:"0 0 16 16"},[t("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})]),h(" Action ")],-1)),t("div",it,[t("button",{disabled:l(m),class:"btn btn-primary"},[x(t("div",rt,null,512),[[U,l(m)]]),l(m)?(a(),o("span",dt,"Processing...")):(a(),o("span",ut,"Publish"))],8,nt)]),e[8]||(e[8]=t("h6",{class:"mt-3"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-square",viewBox:"0 0 16 16"},[t("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})]),h(" Category ")],-1)),t("div",ct,[v(E,{modelValue:i.categories,"onUpdate:modelValue":e[2]||(e[2]=s=>i.categories=s),options:l(H),optionLabel:"name",optionValue:"id",filter:"",placeholder:"Select category",maxSelectedLabels:3,class:"w-full md:w-80"},null,8,["modelValue","options"]),t("div",mt,n(l(c).categories),1),t("div",vt,[(a(!0),o(d,null,u((w=l(r))==null?void 0:w.categories,s=>(a(),o("div",null,n(s),1))),256))])]),t("div",ht,[e[6]||(e[6]=t("h6",{class:"mt-3"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-square",viewBox:"0 0 16 16"},[t("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})]),h(" Thumbnail ")],-1)),v(A,{modelValue:i.thumbnail,"onUpdate:modelValue":e[3]||(e[3]=s=>i.thumbnail=s)},null,8,["modelValue"]),t("div",pt,[(a(!0),o(d,null,u((f=l(r))==null?void 0:f.thumbnail,s=>(a(),o("div",null,n(s),1))),256))])])])])])])],32)}}};export{yt as default};
