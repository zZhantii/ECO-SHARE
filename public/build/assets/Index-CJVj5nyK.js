import{l as p,A as $,q as A,E as y,b as m,h as e,e as D,d as C,v as f,w as M,G as b,M as g,n,F,i as P,f as E,o as c,y as B,t as h,N as I}from"./app-pebjqkCD.js";import{u as j}from"./posts-DuPzwDq5.js";import{u as H}from"./categories-BJ9YamNF.js";const S={class:"row justify-content-center my-2"},q={class:"col-md-12"},z={class:"card border-0"},G={class:"card-header bg-transparent"},O={class:"card-body shadow-sm"},J={class:"mb-4"},K={class:"table-responsive"},Q={class:"table"},R={class:"px-6 py-3 bg-gray-50 text-left"},W={class:"px-6 py-3 bg-gray-50 text-left"},X={class:"px-6 py-3 bg-gray-50 text-left"},Y={class:"px-6 py-3 text-start"},Z={class:"select-none"},ee={class:"px-6 py-3 text-left"},te={class:"select-none"},se={class:"px-6 py-3 bg-gray-50 text-left"},le={class:"select-none"},ae={class:"px-6 py-4 text-sm",width:"20"},oe={class:"px-6 py-4 text-sm"},ne={class:"px-6 py-4 text-sm"},de=["src"],ie={class:"px-6 py-4 text-sm"},re={class:"px-6 py-4 text-sm"},ue=["innerHTML"],ce={class:"px-6 py-4 text-sm"},ve={class:"px-6 py-4 text-sm"},pe=["onClick"],be={__name:"Index",setup(xe){const x=p(""),d=p(""),i=p(""),r=p(""),u=p(""),a=p("created_at"),s=p("desc"),{posts:L,getPosts:v,deletePost:N}=j(),{getCategoryList:U}=H(),{can:k}=$();A(()=>{v(),U()});const w=o=>{a.value=o,s.value=s.value==="asc"?"desc":"asc",v(1,x.value,d.value,i.value,r.value,u.value,a.value,s.value)};return y(x,(o,t)=>{v(1,o,d.value,i.value,r.value,u.value)}),y(d,(o,t)=>{v(1,x.value,o,i.value,r.value,u.value)}),y(i,(o,t)=>{v(1,x.value,d.value,o,r.value,u.value)}),y(r,(o,t)=>{v(1,x.value,d.value,i.value,o,u.value)}),y(u,_.debounce((o,t)=>{v(1,x.value,d.value,i.value,r.value,o)},200)),(o,t)=>{const T=E("router-link");return c(),m("div",S,[e("div",q,[e("div",z,[e("div",G,[t[8]||(t[8]=e("h5",{class:"float-start"},"Posts",-1)),f(k)("post-create")?(c(),D(T,{key:0,to:{name:"posts.create"},class:"btn btn-primary btn-sm float-end"},{default:M(()=>t[7]||(t[7]=[B(" Create Post ")])),_:1})):C("",!0)]),e("div",O,[e("div",J,[b(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>u.value=l),type:"text",placeholder:"Search...",class:"form-control w-25"},null,512),[[g,u.value]])]),e("div",K,[e("table",Q,[e("thead",null,[e("tr",null,[e("th",R,[b(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>d.value=l),type:"text",class:"inline-block mt-1 form-control",placeholder:"Filter by ID"},null,512),[[g,d.value]])]),e("th",W,[b(e("input",{"onUpdate:modelValue":t[2]||(t[2]=l=>i.value=l),type:"text",class:"inline-block mt-1 form-control",placeholder:"Filter by Title"},null,512),[[g,i.value]])]),t[9]||(t[9]=e("th",{class:"px-6 py-3 bg-gray-50 text-left"},null,-1)),e("th",X,[b(e("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>r.value=l),type:"text",class:"inline-block mt-1 form-control",placeholder:"Filter by Content"},null,512),[[g,r.value]])]),t[10]||(t[10]=e("th",{class:"px-6 py-3 text-start"},null,-1)),t[11]||(t[11]=e("th",{class:"px-6 py-3 text-start"},null,-1))]),e("tr",null,[e("th",Y,[e("div",{class:"flex flex-row",onClick:t[4]||(t[4]=l=>w("id"))},[e("div",{class:n(["font-medium text-uppercase",{"font-bold text-blue-600":a.value==="id"}])}," ID ",2),e("div",Z,[e("span",{class:n({"text-blue-600":s.value==="asc"&&a.value==="id",hidden:s.value!==""&&s.value!=="asc"&&a.value==="id"})},"↑",2),e("span",{class:n({"text-blue-600":s.value==="desc"&&a.value==="id",hidden:s.value!==""&&s.value!=="desc"&&a.value==="id"})},"↓",2)])])]),e("th",ee,[e("div",{class:"flex flex-row",onClick:t[5]||(t[5]=l=>w("title"))},[e("div",{class:n(["font-medium text-uppercase",{"font-bold text-blue-600":a.value==="title"}])}," Title ",2),e("div",te,[e("span",{class:n({"text-blue-600":s.value==="asc"&&a.value==="title",hidden:s.value!==""&&s.value!=="asc"&&a.value==="title"})},"↑",2),e("span",{class:n({"text-blue-600":s.value==="desc"&&a.value==="title",hidden:s.value!==""&&s.value!=="desc"&&a.value==="title"})},"↓",2)])])]),t[12]||(t[12]=e("th",{class:"px-6 py-3 text-left"},[e("div",{class:"flex flex-row"},[e("div",{class:"font-medium text-uppercase"}," Thumbnail ")])],-1)),t[13]||(t[13]=e("th",{class:"px-6 py-3 bg-gray-50 text-left"},[e("span",{class:"text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"Category")],-1)),t[14]||(t[14]=e("th",{class:"px-6 py-3 bg-gray-50 text-left"},[e("span",{class:"text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"Content")],-1)),e("th",se,[e("div",{class:"flex flex-row items-center justify-between cursor-pointer",onClick:t[6]||(t[6]=l=>w("created_at"))},[e("div",{class:n(["leading-4 font-medium text-gray-500 uppercase tracking-wider",{"font-bold text-blue-600":a.value==="created_at"}])}," Created at ",2),e("div",le,[e("span",{class:n({"text-blue-600":s.value==="asc"&&a.value==="created_at",hidden:s.value!==""&&s.value!=="asc"&&a.value==="created_at"})},"↑",2),e("span",{class:n({"text-blue-600":s.value==="desc"&&a.value==="created_at",hidden:s.value!==""&&s.value!=="desc"&&a.value==="created_at"})},"↓",2)])])]),t[15]||(t[15]=e("th",{class:"px-6 py-3 bg-gray-50 text-left"}," Actions ",-1))])]),e("tbody",null,[(c(!0),m(F,null,P(f(L).data,l=>(c(),m("tr",{key:l.id},[e("td",ae,h(l.id),1),e("td",oe,h(l.title),1),e("td",ne,[e("img",{src:l.original_image,alt:"image",height:"70"},null,8,de)]),e("td",ie,[(c(!0),m(F,null,P(l.categories,V=>(c(),m("div",null,h(V.name),1))),256))]),e("td",re,[e("div",{innerHTML:l.content.slice(0,100)+"..."},null,8,ue)]),e("td",ce,h(l.created_at),1),e("td",ve,[f(k)("post-edit")?(c(),D(T,{key:0,to:{name:"posts.edit",params:{id:l.id}},class:"badge bg-primary"},{default:M(()=>t[16]||(t[16]=[B("Edit ")])),_:2},1032,["to"])):C("",!0),f(k)("post-delete")?(c(),m("a",{key:1,href:"#",onClick:I(V=>f(N)(l.id),["prevent"]),class:"ms-2 badge bg-danger"},"Delete",8,pe)):C("",!0)])]))),128))])])])]),t[17]||(t[17]=e("div",{class:"card-footer"},null,-1))])])])}}};export{be as default};
