import{K as T,q as S,C as N,O as U,b as a,y as m,h as t,t as n,G as _,M as R,v as l,F as u,i as v,j as x,f as j,H as y,N as A,o as i}from"./app-pebjqkCD.js";import{u as G}from"./categories-BJ9YamNF.js";import{u as K}from"./posts-DuPzwDq5.js";import{d as C,u as O,a as p,r as Z,m as I}from"./rules-BEBCv-ON.js";import{D as J}from"./DropZone-D3dxynPT.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Q={class:"row my-5"},W={class:"col-md-8"},X={class:"card border-0 shadow-sm"},Y={class:"card-body"},$={class:"mb-3"},tt={class:"text-danger mt-1"},et={class:"text-danger mt-1"},st={class:"mb-3"},ot={class:"text-danger mt-1"},at={class:"text-danger mt-1"},lt={class:"col-md-4"},it={class:"card border-0 shadow-sm"},nt={class:"card-body"},rt={class:"mt-3 text-center"},dt=["disabled"],ut={class:""},ct={key:0},mt={key:1},vt=["disabled"],ht={class:""},_t={key:0},pt={key:1},bt={class:"mb-3"},gt={class:"text-danger mt-1"},wt={class:"text-danger mt-1"},ft={class:"mb-3"},Vt={class:"text-danger mt-1"},kt={__name:"Edit",setup(xt){C("required",Z),C("min",I);const M={title:"required|min:5",content:"required|min:50",categories:"required"},{validate:q,errors:h,resetForm:yt}=O({validationSchema:M}),{value:z}=p("title",null,{initialValue:""}),{value:L}=p("content",null,{initialValue:""}),{value:H}=p("categories",null,{initialValue:"",label:"category"}),{getCategoryList:k}=G(),{post:d,getPost:B,updatePost:D,validationErrors:c,isLoading:r}=K(),s=T({title:z,content:L,categories:H,thumbnail:""}),E=N();function F(){q().then(b=>{b.valid&&D(s)})}return S(()=>{B(E.params.id),k()}),U(()=>{s.id=d.value.id,s.title=d.value.title,s.content=d.value.content,s.thumbnail=d.value.original_image,s.categories=d.value.categories}),(b,e)=>{var g,w,f,V;const P=j("TextEditorComponent");return i(),a(u,null,[m(n(s)+" ",1),t("form",{onSubmit:A(F,["prevent"])},[t("div",Q,[t("div",W,[t("div",X,[t("div",Y,[t("div",$,[e[3]||(e[3]=t("label",{for:"post-title",class:"form-label"}," Title ",-1)),_(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>s.title=o),id:"post-title",type:"text",class:"form-control"},null,512),[[R,s.title]]),t("div",tt,n(l(h).title),1),t("div",et,[(i(!0),a(u,null,v((g=l(c))==null?void 0:g.title,o=>(i(),a("div",null,n(o),1))),256))])]),t("div",st,[e[4]||(e[4]=t("label",{for:"post-content",class:"form-label"}," Content ",-1)),x(P,{modelValue:s.content,"onUpdate:modelValue":e[1]||(e[1]=o=>s.content=o)},null,8,["modelValue"]),t("div",ot,n(l(h).content),1),t("div",at,[(i(!0),a(u,null,v((w=l(c))==null?void 0:w.content,o=>(i(),a("div",null,n(o),1))),256))])])])])]),t("div",lt,[t("div",it,[t("div",nt,[e[6]||(e[6]=t("h6",null,[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-square",viewBox:"0 0 16 16"},[t("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})]),m(" Action ")],-1)),t("div",rt,[t("button",{disabled:l(r),class:"btn btn btn-outline-primary me-2"},[_(t("div",ut,null,512),[[y,l(r)]]),l(r)?(i(),a("span",ct,"Processing...")):(i(),a("span",mt,"Save Draft"))],8,dt),t("button",{disabled:l(r),class:"btn btn-primary"},[_(t("div",ht,null,512),[[y,l(r)]]),l(r)?(i(),a("span",_t,"Processing...")):(i(),a("span",pt,"Publish"))],8,vt)]),e[7]||(e[7]=t("h6",{class:"mt-3"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-square",viewBox:"0 0 16 16"},[t("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})]),m(" Category ")],-1)),t("div",bt,[t("div",gt,n(l(h).categories),1),t("div",wt,[(i(!0),a(u,null,v((f=l(c))==null?void 0:f.categories,o=>(i(),a("div",null,n(o),1))),256))])]),t("div",ft,[e[5]||(e[5]=t("h6",{class:"mt-3"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-square",viewBox:"0 0 16 16"},[t("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})]),m(" Thumbnail ")],-1)),x(J,{modelValue:s.thumbnail,"onUpdate:modelValue":e[2]||(e[2]=o=>s.thumbnail=o)},null,8,["modelValue"]),t("div",Vt,[(i(!0),a(u,null,v((V=l(c))==null?void 0:V.thumbnail,o=>(i(),a("div",null,n(o),1))),256))])])])])])])],32)],64)}}};export{kt as default};
