import{q as S,b as a,h as s,j as i,d as u,n as m,v as l,f as b,F as r,i as c,z as E,o as n,t as p}from"./app-pebjqkCD.js";import{u as T}from"./users-BKl8x4eE.js";import{u as D}from"./vehicles-hQAbVoZ-.js";import"./index.esm-C_1aiQ0x.js";import"./yup-locales.esm-DRsOkZ6u.js";const F={class:"surface-ground px-4 py-5 md:px-6 lg:px-8"},M={class:"grid"},j={class:"col-12 md:col-8 md:col-offset-2 lg:col-6 lg:col-offset-3"},L={class:"surface-card p-4 shadow-2 rounded-4"},z={class:"grid"},G={class:"col-12 md:col-6 mb-4"},P={key:0,class:"p-error block mt-1"},q={class:"col-12 md:col-6 mb-4"},A={key:0,class:"p-error block mt-1"},K={class:"col-12 md:col-6 mb-4"},O={key:0,class:"p-error block mt-1"},R={class:"col-12 md:col-6 mb-4"},$={key:0,class:"p-error block mt-1"},H={class:"col-12 md:col-6 mb-4"},J={class:"p-inputgroup"},Q={key:0,class:"p-error block mt-1"},W={class:"col-12 md:col-6 mb-4"},X={class:"p-inputgroup"},Y={key:0,class:"p-error block mt-1"},Z={class:"col-12 md:col-6 mb-4"},ll={key:0,class:"p-error block mt-1"},ol={class:"col-12 md:col-6 mb-4"},el={key:0,class:"p-error block mt-1"},tl={class:"flex justify-content-end"},ul={__name:"Create",setup(sl){const _=E(),{createVehicle:x,vehicleSchema:h,validationErrors:t,vehicle:d}=D(),{getUsers:g,users:w}=T(),U=["Gasolina","Diésel"],C=[{label:"No Validado",value:0},{label:"Validado",value:1}];S(async()=>{g()});const B=async()=>{try{await h.validate(d.value,{abortEarly:!1}).then(()=>{x(d)}),_.back()}catch(v){t.value={},v.inner.forEach(o=>{t.value[o.path]||(t.value[o.path]=[]),t.value[o.path].push(o.message)})}};return(v,o)=>{const I=b("Select"),f=b("InputText"),k=b("InputNumber"),V=b("SelectButton"),y=b("Button"),N=b("Toast");return n(),a(r,null,[s("div",F,[s("div",M,[s("div",j,[s("div",L,[o[17]||(o[17]=s("div",{class:"text-center mb-5"},[s("h2",{class:"text-3xl font-medium text-900 mb-3"},"Crear Vehículo"),s("span",{class:"text-600 font-medium"},"Por favor, complete los datos del vehículo")],-1)),s("div",z,[s("div",G,[o[9]||(o[9]=s("label",{for:"user_id",class:"block text-900 font-medium mb-2"},"Usuario",-1)),i(I,{modelValue:l(d).user_id,"onUpdate:modelValue":o[0]||(o[0]=e=>l(d).user_id=e),options:l(w).data,filter:"",optionLabel:"name",optionValue:"id",dataKey:"id",placeholder:"Seleccionar Usuario",class:m(["w-full",{"p-invalid":l(t).user_id}])},null,8,["modelValue","options","class"]),l(t).user_id?(n(),a("small",P,[(n(!0),a(r,null,c(l(t).user_id,e=>(n(),a("div",{key:e},p(e),1))),128))])):u("",!0)]),s("div",q,[o[10]||(o[10]=s("label",{for:"plate",class:"block text-900 font-medium mb-2"},"Matrícula",-1)),i(f,{modelValue:l(d).plate,"onUpdate:modelValue":o[1]||(o[1]=e=>l(d).plate=e),id:"plate",type:"text",class:m(["w-full",{"p-invalid":l(t).plate}]),placeholder:"Ingrese la matrícula"},null,8,["modelValue","class"]),l(t).plate?(n(),a("small",A,[(n(!0),a(r,null,c(l(t).plate,e=>(n(),a("div",{key:e},p(e),1))),128))])):u("",!0)]),s("div",K,[o[11]||(o[11]=s("label",{for:"brand",class:"block text-900 font-medium mb-2"},"Marca",-1)),i(f,{modelValue:l(d).brand,"onUpdate:modelValue":o[2]||(o[2]=e=>l(d).brand=e),id:"brand",type:"text",class:m(["w-full",{"p-invalid":l(t).brand}]),placeholder:"Ingrese la marca"},null,8,["modelValue","class"]),l(t).brand?(n(),a("small",O,[(n(!0),a(r,null,c(l(t).brand,e=>(n(),a("div",{key:e},p(e),1))),128))])):u("",!0)]),s("div",R,[o[12]||(o[12]=s("label",{for:"model",class:"block text-900 font-medium mb-2"},"Modelo",-1)),i(f,{modelValue:l(d).model,"onUpdate:modelValue":o[3]||(o[3]=e=>l(d).model=e),id:"model",type:"text",class:m(["w-full",{"p-invalid":l(t).model}]),placeholder:"Ingrese el modelo"},null,8,["modelValue","class"]),l(t).model?(n(),a("small",$,[(n(!0),a(r,null,c(l(t).model,e=>(n(),a("div",{key:e},p(e),1))),128))])):u("",!0)]),s("div",H,[o[13]||(o[13]=s("label",{for:"consumption",class:"block text-900 font-medium mb-2"},"Consumo",-1)),s("div",J,[i(k,{modelValue:l(d).consumption,"onUpdate:modelValue":o[4]||(o[4]=e=>l(d).consumption=e),id:"consumption",minFractionDigits:1,maxFractionDigits:1,placeholder:"0.0",showButtons:"",class:m(["w-full",{"p-invalid":l(t).consumption}])},null,8,["modelValue","class"])]),l(t).consumption?(n(),a("small",Q,[(n(!0),a(r,null,c(l(t).consumption,e=>(n(),a("div",{key:e},p(e),1))),128))])):u("",!0)]),s("div",W,[o[14]||(o[14]=s("label",{for:"pax_number",class:"block text-900 font-medium mb-2"},"Número de Pasajeros",-1)),s("div",X,[i(k,{modelValue:l(d).pax_number,"onUpdate:modelValue":o[5]||(o[5]=e=>l(d).pax_number=e),id:"pax_number",min:1,placeholder:"0",showButtons:"",class:m(["w-full",{"p-invalid":l(t).pax_number}])},null,8,["modelValue","class"])]),l(t).pax_number?(n(),a("small",Y,[(n(!0),a(r,null,c(l(t).pax_number,e=>(n(),a("div",{key:e},p(e),1))),128))])):u("",!0)]),s("div",Z,[o[15]||(o[15]=s("label",{for:"fuel_type",class:"block text-900 font-medium mb-2"},"Tipo de Combustible",-1)),i(V,{modelValue:l(d).fuel_type,"onUpdate:modelValue":o[6]||(o[6]=e=>l(d).fuel_type=e),options:U,class:m(["w-full",{"p-invalid":l(t).fuel_type}])},null,8,["modelValue","class"]),l(t).fuel_type?(n(),a("small",ll,[(n(!0),a(r,null,c(l(t).fuel_type,e=>(n(),a("div",{key:e},p(e),1))),128))])):u("",!0)]),s("div",ol,[o[16]||(o[16]=s("label",{for:"validation",class:"block text-900 font-medium mb-2"},"Estado de Validación",-1)),i(V,{modelValue:l(d).validation,"onUpdate:modelValue":o[7]||(o[7]=e=>l(d).validation=e),options:C,class:m(["w-full",{"p-invalid":l(t).validation}]),optionLabel:"label",optionValue:"value"},null,8,["modelValue","class"]),l(t).validation?(n(),a("small",el,[(n(!0),a(r,null,c(l(t).validation,e=>(n(),a("div",{key:e},p(e),1))),128))])):u("",!0)])]),s("div",tl,[i(y,{label:"Cancelar",class:"p-button-text mr-2",onClick:o[8]||(o[8]=e=>l(_).back())}),i(y,{label:"Guardar",icon:"pi pi-check",loading:v.loading,onClick:B},null,8,["loading"])])])])])]),i(N)],64)}}};export{ul as default};
