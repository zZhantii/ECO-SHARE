import{A as B,l as F,ac as _,q as A,b as M,h as r,j as e,w as a,v as u,f as s,o as c,e as v,d as h,y as w}from"./app-pebjqkCD.js";import{u as $}from"./vehicles-hQAbVoZ-.js";import"./index.esm-C_1aiQ0x.js";import"./yup-locales.esm-DRsOkZ6u.js";const z={class:"grid"},D={class:"col-12"},U={class:"card"},L={__name:"index",setup(O){const{vehiclesList:p,getVehiclesAdmin:m,deleteVehicle:y}=$(),{can:b}=B(),n=F({global:{value:null,matchMode:_.CONTAINS}}),C=()=>{n.value={global:{value:null,matchMode:_.CONTAINS}}};A(()=>{m()});const V=async d=>{await y(d).then(()=>{f()})},f=()=>{p.value=[],m()};return(d,l)=>{const k=s("InputIcon"),I=s("InputText"),g=s("IconField"),i=s("Button"),x=s("Toolbar"),t=s("Column"),N=s("router-link"),T=s("DataTable");return c(),M("div",z,[r("div",D,[r("div",U,[l[6]||(l[6]=r("div",{class:"card-header bg-transparent ps-0 pe-0"},[r("h5",{class:"float-start mb-0"},"Vehicles")],-1)),e(T,{filters:n.value,"onUpdate:filters":l[4]||(l[4]=o=>n.value=o),value:u(p),paginator:"",rows:5,globalFilterFields:["id","user_id","plate","brand","model","consumption","pax_number","validation","fuel_type"],stripedRows:"",dataKey:"id",size:"small"},{header:a(()=>[e(x,{"pt:root:class":"toolbar-table"},{start:a(()=>[e(g,null,{default:a(()=>[e(k,{class:"pi pi-search"}),e(I,{modelValue:n.value.global.value,"onUpdate:modelValue":l[0]||(l[0]=o=>n.value.global.value=o),placeholder:"Buscar"},null,8,["modelValue"])]),_:1}),e(i,{type:"button",icon:"pi pi-filter-slash",label:"Clear",class:"ml-1",outlined:"",onClick:l[1]||(l[1]=o=>C())}),e(i,{type:"button",icon:"pi pi-refresh",class:"h-100 ml-1",outlined:"",onClick:l[2]||(l[2]=o=>f())})]),end:a(()=>[e(i,{icon:"pi pi-external-link",label:"Crear Vehiculo",onClick:l[3]||(l[3]=o=>d.$router.push("vehicles/create")),class:"float-end"})]),_:1})]),empty:a(()=>l[5]||(l[5]=[w(" No customers found. ")])),default:a(()=>[e(t,{field:"id",header:"ID",sortable:""}),e(t,{field:"user_id",header:"User_id",sortable:""}),e(t,{field:"plate",header:"Plate",sortable:""}),e(t,{field:"brand",header:"Brand",sortable:""}),e(t,{field:"model",header:"Model",sortable:""}),e(t,{field:"consumption",header:"Consumption",sortable:""}),e(t,{field:"pax_number",header:"Pax_number",sortable:""}),e(t,{field:"validation",header:"Validation",sortable:""}),e(t,{field:"fuel_type",header:"Fuel_type",sortable:""}),e(t,{class:"pe-0 me-0 icon-column-2"},{body:a(o=>[u(b)("user-edit")?(c(),v(N,{key:0,to:{name:"vehicles.edit",params:{id:o.data.id}}},{default:a(()=>[e(i,{icon:"pi pi-pencil",severity:"info",size:"small",class:"mr-1"})]),_:2},1032,["to"])):h("",!0),u(b)("user-delete")?(c(),v(i,{key:1,icon:"pi pi-trash",severity:"danger",onClick:S=>V(o.data),size:"small"},null,8,["onClick"])):h("",!0)]),_:1})]),_:1},8,["filters","value"])])])])}}};export{L as default};
