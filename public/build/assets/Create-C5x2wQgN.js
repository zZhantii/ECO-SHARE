import{K as H,b as o,h as a,j as u,N as J,d as p,n as b,v as l,U as v,t as m,F as d,i as f,av as F,f as O,z as Q,o as r}from"./app-pebjqkCD.js";import{u as W}from"./roles-DJfErgU2.js";import{u as X}from"./users-BKl8x4eE.js";import{s as Y}from"./index-LWFa1mRE.js";import{d as S,u as Z,a as c,r as ll,m as el}from"./rules-BEBCv-ON.js";import{_ as sl}from"./_plugin-vue_export-helper-DlAUqK2U.js";const al={class:"surface-ground px-4 py-5 md:px-6 lg:px-8"},ol={class:"grid"},rl={class:"col-12 md:col-8 md:col-offset-2"},tl={class:"surface-card p-4 shadow-2 rounded-4"},nl={class:"col-12 md:col-6 mb-4"},il={key:0,class:"p-error block mt-1"},ml={class:"p-error block mt-1"},ul={class:"col-12 md:col-6 mb-4"},dl={key:0,class:"p-error block mt-1"},cl={class:"p-error block mt-1"},pl={class:"col-12 md:col-6 mb-4"},bl={key:0,class:"p-error block mt-1"},fl={class:"p-error block mt-1"},vl={class:"col-12 md:col-6 mb-4"},_l={key:0,class:"p-error block mt-1"},kl={class:"p-error block mt-1"},Vl={class:"col-12 md:col-6 mb-4"},wl={key:0,class:"p-error block mt-1"},xl={class:"p-error block mt-1"},gl={class:"col-12 md:col-6 mb-4"},yl={key:0,class:"p-error block mt-1"},hl={class:"p-error block mt-1"},Ul={class:"col-12 flex justify-content-end"},Cl={__name:"Create",setup(ql){W();const{storeUser:$,validationErrors:i,isLoading:j}=X(),A=Q();S("required",ll),S("min",el);const B={name:"required",email:"required",password:"required|min:8",surname1:"required",surname2:"required",alias:"required"},{validate:E,errors:t}=Z({validationSchema:B}),{value:R}=c("name",null,{initialValue:""}),{value:z}=c("email",null,{initialValue:""}),{value:L}=c("password",null,{initialValue:""}),{value:M}=c("surname1",null,{initialValue:""}),{value:T}=c("surname2",null,{initialValue:""}),{value:D}=c("alias",null,{initialValue:""}),{value:G}=c("role_id",null,{initialValue:"",label:"role"}),n=H({name:R,email:z,password:L,role_id:G,surname1:M,surname2:T,alias:D});function K(){E().then(_=>{_.valid&&$(n)}),A.back()}return(_,e)=>{var k,V,w,x,g,y,h,U,C,q,I,N;const P=O("Toast");return r(),o(d,null,[a("div",al,[a("div",ol,[a("div",rl,[a("div",tl,[e[13]||(e[13]=a("div",{class:"text-center mb-5"},[a("h2",{class:"text-3xl font-medium text-900 mb-3"},"Crear Nuevo Usuario"),a("span",{class:"text-600 font-medium"},"Ingrese los datos del nuevo usuario")],-1)),a("form",{onSubmit:J(K,["prevent"]),class:"grid"},[a("div",nl,[e[7]||(e[7]=a("label",{for:"name",class:"block text-900 font-medium mb-2"},"Nombre",-1)),u(l(v),{id:"name",modelValue:n.name,"onUpdate:modelValue":e[0]||(e[0]=s=>n.name=s),class:b(["w-full",{"p-invalid":l(t).name||((k=l(i))==null?void 0:k.name)}]),placeholder:"Introduce el nombre"},null,8,["modelValue","class"]),l(t).name?(r(),o("small",il,m(l(t).name),1)):p("",!0),(r(!0),o(d,null,f((V=l(i))==null?void 0:V.name,s=>(r(),o("small",ml,m(s),1))),256))]),a("div",ul,[e[8]||(e[8]=a("label",{for:"alias",class:"block text-900 font-medium mb-2"},"Alias",-1)),u(l(v),{id:"alias",modelValue:n.alias,"onUpdate:modelValue":e[1]||(e[1]=s=>n.alias=s),class:b(["w-full",{"p-invalid":l(t).alias||((w=l(i))==null?void 0:w.alias)}]),placeholder:"Introduce el alias"},null,8,["modelValue","class"]),l(t).alias?(r(),o("small",dl,m(l(t).alias),1)):p("",!0),(r(!0),o(d,null,f((x=l(i))==null?void 0:x.alias,s=>(r(),o("small",cl,m(s),1))),256))]),a("div",pl,[e[9]||(e[9]=a("label",{for:"surname1",class:"block text-900 font-medium mb-2"},"Primer Apellido",-1)),u(l(v),{id:"surname1",modelValue:n.surname1,"onUpdate:modelValue":e[2]||(e[2]=s=>n.surname1=s),class:b(["w-full",{"p-invalid":l(t).surname1||((g=l(i))==null?void 0:g.surname1)}]),placeholder:"Introduce el primer apellido"},null,8,["modelValue","class"]),l(t).surname1?(r(),o("small",bl,m(l(t).surname1),1)):p("",!0),(r(!0),o(d,null,f((y=l(i))==null?void 0:y.surname1,s=>(r(),o("small",fl,m(s),1))),256))]),a("div",vl,[e[10]||(e[10]=a("label",{for:"surname2",class:"block text-900 font-medium mb-2"},"Segundo Apellido",-1)),u(l(v),{id:"surname2",modelValue:n.surname2,"onUpdate:modelValue":e[3]||(e[3]=s=>n.surname2=s),class:b(["w-full",{"p-invalid":l(t).surname2||((h=l(i))==null?void 0:h.surname2)}]),placeholder:"Introduce el segundo apellido"},null,8,["modelValue","class"]),l(t).surname2?(r(),o("small",_l,m(l(t).surname2),1)):p("",!0),(r(!0),o(d,null,f((U=l(i))==null?void 0:U.surname2,s=>(r(),o("small",kl,m(s),1))),256))]),a("div",Vl,[e[11]||(e[11]=a("label",{for:"email",class:"block text-900 font-medium mb-2"},"Email",-1)),u(l(v),{id:"email",type:"email",modelValue:n.email,"onUpdate:modelValue":e[4]||(e[4]=s=>n.email=s),class:b(["w-full",{"p-invalid":l(t).email||((C=l(i))==null?void 0:C.email)}]),placeholder:"ejemplo@email.com"},null,8,["modelValue","class"]),l(t).email?(r(),o("small",wl,m(l(t).email),1)):p("",!0),(r(!0),o(d,null,f((q=l(i))==null?void 0:q.email,s=>(r(),o("small",xl,m(s),1))),256))]),a("div",gl,[e[12]||(e[12]=a("label",{for:"password",class:"block text-900 font-medium mb-2"},"Contraseña",-1)),u(l(Y),{id:"password",modelValue:n.password,"onUpdate:modelValue":e[5]||(e[5]=s=>n.password=s),feedback:!0,toggleMask:!0,class:b(["w-full",{"p-invalid":l(t).password||((I=l(i))==null?void 0:I.password)}]),placeholder:"Introduce la contraseña"},null,8,["modelValue","class"]),l(t).password?(r(),o("small",yl,m(l(t).password),1)):p("",!0),(r(!0),o(d,null,f((N=l(i))==null?void 0:N.password,s=>(r(),o("small",hl,m(s),1))),256))]),a("div",Ul,[u(l(F),{type:"button",label:"Cancelar",class:"p-button-text mr-2",onClick:e[6]||(e[6]=s=>_.$router.back())}),u(l(F),{type:"submit",label:"Guardar",icon:"pi pi-check",loading:l(j),class:"p-button-success"},null,8,["loading"])])],32)])])])]),u(P)],64)}}},Al=sl(Cl,[["__scopeId","data-v-367ec264"]]);export{Al as default};
